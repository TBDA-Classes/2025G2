UI / UX DESIGN
==============

This section documents the user interface and interaction design for the
Numerical Control Machine dashboard. The UI/UX team used Figma to create
a high-fidelity prototype that guided the frontend implementation.

Design Goals
------------

The main goals for the interface were:

* Provide a clear overview of machine status.
* Allow the client to explore details by date and/or time window.
* Make the relationship between utilisation, energy and alarms easy to
  understand.
* Keep the layout simple enough to be implemented efficiently in
  Next.js and React.

Global Layout and Navigation
----------------------------

The application uses a three-panel layout:

* A left sidebar with primary navigation:
    * ``Dashboard`` – overall machine status and key metrics. It will also bee the default entry point.
    * ``Energy`` – power and energy consumption views.
    * ``Alerts`` – alarm monitoring and drill-down.
* A top bar with a date selector. The date picker controls which
  day is displayed across all pages.
* A main content area where the cards and charts for each section
  are rendered.



Machine Utilisation Cards
~~~~~~~~~~~~~~~~~~~~~~~~~

At the top of the page there is a set of summary cards:

* Running Time – percentage and minutes the machine has been in a
  running state during the selected day and time window.
* Idle Time – percentage and minutes in idle state.
* Down Time – percentage and minutes when the machine is down.

Each card combines:

* A large percentage value.
* A progress bar showing the relative proportion out of 1440 minutes.
* A small caption with minutes over the daily total.

This information is driven by the aggregation queries from the data
analysis team and the backend ETL.

Machine Status Timeline
~~~~~~~~~~~~~~~~~~~~~~~

There is a horizontal timeline that shows the machine status over 24 hours.

* Colours are used consistently: green (RUN), yellow (IDLE),
  red (DOWN).
* A time-window selector lets the user zoom into 10-minute intervals
* This visualisation is based on queries that reconstruct state changes
  from variables like ``MACHINE_IN_OPERATION``, ``OP_MODE_STANDBY`` and
  ``MACHINE_EMERGENCY``.

Temperature and Program History
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The lower part of the Dashboard contains:

* A Temperature History line chart displaying the evolution of key
  temperature variables during the day. The Data Analysis team filtered the relevant variables using
  statistical queries to remove noisy or useless signals.
* A Program History bar view that shows which CNC program was
  running over time. Each program is represented by a colour and code
  (P1, P2, P3...), aligned with the same 24-hour axis as the temperature
  chart.

Energy Screen
-------------

The Energy page focuses on power consumption and daily totals.

The main elements are:

* Current Power card showing real-time kW usage.
* Daily Total card with the total MWh for the selected day.
* An Hourly Energy Consumption line chart with kW on the y-axis and
  hours on the x-axis.
* An Energy by Shift bar chart comparing consumption between the
  three shifts.

These components are designed to sit in a clean two-column layout,
reusing the same visual language (cards, soft shadows, rounded corners)
as the Dashboard.

Alerts Screen
-------------

The Alerts section allows the user to inspect alarms generated by the
machine.

Summary View
~~~~~~~~~~~~

At the top of the page there is an overview:

* Total number of alerts for the selected day.
* Breakdown by category: Emergency, Error, Alert.
* A secondary breakdown by shift, so the client can quickly see in
  which part of the day issues concentrate.

The categorisation logic is based on text analysis of the alarm
descriptions (for example detecting keywords like *emergency*, *error*
or *warn*) and is implemented in the SQL queries from the DA team
(Alerts AQ1–AQ4).

Alert List and Detail
~~~~~~~~~~~~~~~~~~~~~

The lower part of the page shows:

* A filter bar where the user can filter by alert type and shift.
* A list of alerts showing one row per alarm with:
    * Category badge (Emergency / Error / Alert).
    * Date and time.
    * Shift.
* A detail panel on the right showing:
    * Full timestamp.
    * Shift information.
    * Alarm code.
    * Description.

This structure supports the use cases requested by the client: quickly
understanding how many alarms occurred, when they happened and which
ones require attention.

Collaboration with Frontend and Data Teams
------------------------------------------

The UI/UX work is tightly connected with the other sub-teams:

* The data analysis team designed the SQL queries that compute
  utilisation, working periods, stoppages, NaN intervals and alarm
  statistics. These queries defined which metrics could be shown in the
  UI and how they should be interpreted.
* The backend team exposed those metrics through FastAPI endpoints
  and ensured that response times stayed reasonably fast.
* The frontend team worked on implementing the Figma prototype in Next.js
  using React components, Tailwind CSS and Recharts for the charts.

As a result the final interface closely matches the prototype while
remaining technically feasible and performant on top of the available
data.
